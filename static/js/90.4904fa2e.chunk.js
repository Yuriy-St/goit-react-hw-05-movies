"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[90],{8467:function(n,e,r){r.d(e,{Hx:function(){return h},Mc:function(){return f},wr:function(){return d},xc:function(){return p},z1:function(){return v}});var t=r(8683),a=r(5861),c=r(4687),i=r.n(c),o=r(1243),u="https://api.themoviedb.org/3",s={language:"en-US"},l={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YzIyMmVkMDdhYmIxYzBhZTdkZTZmNjcwNzc1MWYxMCIsInN1YiI6IjY0ZWM5NjI2NDU4MTk5MDBjNmY5N2ZmMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BJKeXT5Tv6NruFgOPeeGmw_mnuiGKgPxsTR813jGw0o"}},d=function(){var n="".concat(u,"/trending/movie/day");return m({url:n})},f=function(n){var e="".concat(u,"/movie/").concat(n);return m({url:e})},p=function(n){var e="".concat(u,"/movie/").concat(n,"/credits");return m({url:e})},h=function(n){var e="".concat(u,"/movie/").concat(n,"/reviews");return m({url:e})},v=function(n){var e="".concat(u,"/search/movie");return m({url:e,params:{query:n,include_adult:"false",language:"en-US",page:"1"}})},m=function(){var n=(0,a.Z)(i().mark((function n(e){var r,a,c,u,d,f,p;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.url,a=e.params,c=void 0===a?{}:a,u=new AbortController,d=(0,t.Z)((0,t.Z)({},l),{},{url:r,params:(0,t.Z)((0,t.Z)({},s),c),signal:u.signal}),n.prev=3,n.next=6,(0,o.Z)(d);case 6:if(200===(f=n.sent).status){n.next=9;break}throw f.data;case 9:return n.abrupt("return",{data:f.data,controller:u});case 12:throw n.prev=12,n.t0=n.catch(3),null!==(p=n.t0.response)&&void 0!==p&&p.data?console.error(p.data):console.error(p||n.t0),new Error("Something went wrong. Try reload the page.");case 17:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}()},3315:function(n,e,r){r.r(e),r.d(e,{default:function(){return M}});var t,a,c,i,o,u,s,l=r(1454),d=r(5861),f=r(9439),p=r(4687),h=r.n(p),v=r(8467),m=r(2791),x=r(7689),g=r(168),Z=r(5397),w=Z.Z.ul(t||(t=(0,g.Z)(["\n  padding-bottom: 1rem;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  column-gap: 2rem;\n  row-gap: 3rem;\n"]))),j=Z.Z.li(a||(a=(0,g.Z)(["\n  width: 185px;\n  display: flex;\n  flex-direction: column;\n  // justify-content: space-between;\n  row-gap: 0.25rem;\n"]))),y=Z.Z.div(c||(c=(0,g.Z)(["\n  width: 185px;\n  min-height: 280px;\n"]))),b=Z.Z.img(i||(i=(0,g.Z)([""]))),I=Z.Z.p(o||(o=(0,g.Z)(["\n  font-size: 1.25rem;\n  font-weight: 700;\n"]))),k=Z.Z.p(u||(u=(0,g.Z)(["\n  font-style: italic;\n"]))),N=Z.Z.div(s||(s=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 0.25rem;\n"]))),_=r.p+"static/media/avatar-placeholder.2e4ef16d1cbc3b27f9d7.png",J=r(184);function M(){var n=function(){var n=(0,m.useState)(null),e=(0,f.Z)(n,2),r=e[0],t=e[1],a=(0,m.useState)(!1),c=(0,f.Z)(a,2),i=c[0],o=c[1],u=(0,m.useState)(!1),s=(0,f.Z)(u,2),l=s[0],p=s[1],g=(0,x.UO)().movieId;return(0,m.useEffect)((function(){var n=function(){var n=(0,d.Z)(h().mark((function n(){var e,r,a;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,(0,v.xc)(g);case 4:return e=n.sent,r=e.data,a=e.controller,t(r),n.abrupt("return",a);case 11:n.prev=11,n.t0=n.catch(0),p(n.t0.message);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}(),e=n();return function(){null!==e&&void 0!==e||e.abort()}}),[g]),{credits:r,isLoading:i,fetchError:l}}(),e=n.credits,r=n.isLoading,t=n.fetchError,a=null===e||void 0===e?void 0:e.cast;return(0,J.jsxs)(J.Fragment,{children:[r&&(0,J.jsx)(l.Z,{}),(null===a||void 0===a?void 0:a.length)>0&&(0,J.jsx)(m.Suspense,{fallback:(0,J.jsx)("div",{children:"Loading..."}),children:(0,J.jsx)(w,{children:a.map((function(n){var e=n.id,r=n.name,t=n.profile_path,a=n.character;return(0,J.jsxs)(j,{children:[(0,J.jsx)(y,{children:(0,J.jsx)(b,{src:t?"".concat("http://image.tmdb.org/t/p/w185").concat(t):"".concat(_),alt:r,width:"185",height:"280"})}),(0,J.jsxs)(N,{children:[(0,J.jsx)(I,{children:r}),(0,J.jsxs)(k,{children:["Character: ",a]})]})]},e)}))})}),t&&(0,J.jsx)("p",{children:t})]})}},1454:function(n,e,r){r.d(e,{Z:function(){return u}});var t,a=r(4727),c=r(168),i=r(5397).Z.div(t||(t=(0,c.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),o=r(184);function u(){return(0,o.jsx)(i,{children:(0,o.jsx)(a.Nx,{})})}}}]);
//# sourceMappingURL=90.4904fa2e.chunk.js.map